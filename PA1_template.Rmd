---
title: "Reproducible Research: Peer Assessment 1"
output: 
  html_document:
    keep_md: true
---


## Loading and preprocessing the data

### Read in the data set.

After unzipping the file, we read the data in and assign the correct class to each column. The dates are conveniently stored in the default form YYYY-MM-DD so we don't need any special arguments to convert that column to class Date. 

```{r}
unzip("activity.zip")
raw_data <- read.csv("activity.csv", header=TRUE, stringsAsFactors=FALSE,
                          colClasses=c("integer", "Date", "integer"))
```
Let's see what the data looks like:
```{r}
head(raw_data)
```

## What is the mean total number of steps taken per day?
We're told that we can ignore the missing values for this part.
It appears that the only column to have missing values is the steps column:
```{r}
c(any(is.na(raw_data$steps)), any(is.na(raw_data$date)), any(is.na(raw_data$interval)))
```

For this question, since we're told to ignore missing values, we'll keep only the complete cases:
```{r}
completedata <- raw_data[complete.cases(raw_data), ]
```
To calculate the total number of steps taken per day we want to take the
sum of the steps column, grouped by date.
```{r}
totalsteps <- tapply(completedata$steps, completedata$date, sum)
```

### Histogram of total number of steps taken each day.

Here's a histogram of the total number of steps taken each day. I 
played with the "breaks" argument until I liked the histogram.
```{r}
hist(totalsteps, breaks=seq(0, 25000, by=2500),
     xlab="Total Steps", main="Total Number of Steps Taken Each Day")
```

### Calculate mean and median of total number of steps taken per day:
```{r}
mean(totalsteps)
median(totalsteps)
```

## What is the average daily activity pattern?

We make a time series plot of the 5-minute interval (x-axis) and the average number of steps taken, averaged across all days (y-axis): 
```{r}
# Compute the average steps, grouped by interval
activity <- as.data.frame(tapply(completedata$steps, completedata$interval, mean))
names(activity) <- c("average")
# Add a column for intervals as integers, so points get plotted in the right order.
activity$interval <- as.integer(rownames(activity))
plot(activity$interval, activity$average, type='l', xlab="Interval", ylab="Average # of steps")
```

### Which 5-minute interval, on average across all the days in the dataset, contains the maximum number of steps?
```{r}
# Find the maximum average steps
maxnum <- max(activity$average) 
# Find the interval(s) that take that value
indices <- which(activity$average==maxnum)
activity$interval[indices]
```
It appears to be interval 835, corresponding to the five-minute interval starting at 8:35am.

## Imputing missing values



## Are there differences in activity patterns between weekdays and weekends?
